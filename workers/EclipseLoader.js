"use strict";class EclipseLoader{constructor(){function e(){console.log("Building eclipse list.");for(var e="",l={timeZone:"UTC",year:"numeric",month:"long",day:"numeric"},i=0;i<c.getEclipseCount();i++){var a=c.getEclipse(i).type;e+="<li eclipse-index='"+i+"' class='mdl-list__item mdl-list__item--two-line'><span class='mdl-list__item-primary-content'><i class='"+a.toLocaleLowerCase()+"-eclipse-icon mdl-list__item-avatar'>"+a+" Eclipse</i><span>"+a+" Eclipse</span><span class='mdl-list__item-sub-title'>"+c.getEclipse(i).maxEclipseDate.toLocaleDateString(t,l)+"</span></span><span class='mdl-list__item-secondary-content'><i class='material-icons visible-class' style='display: none;'>visibility</i></span></li>"}s(e)}function s(e){console.log("Build html list complete."),postMessage({cmd:"eclipse_html_complete",eclipse_data:e})}function l(){var s=c.eclipseToJSON();console.log("Eclipse thread load complete: "+c.getEclipseCount()+" eclipses loaded."),postMessage({cmd:"eclipse_load_complete",eclipse_data:s}),e()}function i(e){console.log("Eclipse loader error: "+e),postMessage({cmd:"eclipse_load_error",status:e})}var t="en-US";importScripts("EclipseCalc.js");var c=new Eclipses;this.init=(()=>{console.log("Initing eclipse loader thread."),c.loadEclipseElements("../data/eclipses/catsmall.txt","../data/eclipses/SECOMB.js",l,i)})}}var el=new EclipseLoader;el.init();