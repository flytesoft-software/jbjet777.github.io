"use strict";class EclipseLoader{constructor(){function a(){console.log("Building eclipse list.");for(var m,j="",k={timeZone:"UTC",year:"numeric",month:"long",day:"numeric"},l=0;l<h.getEclipseCount();l++)m=h.getEclipse(l).type,j+="<li eclipse-index='"+l+"' class='mdl-list__item mdl-list__item--two-line'><span class='mdl-list__item-primary-content'><i class='"+m.toLocaleLowerCase()+"-eclipse-icon mdl-list__item-avatar'>"+m+" Eclipse</i><span>"+m+" Eclipse</span><span class='mdl-list__item-sub-title'>"+h.getEclipse(l).maxEclipseDate.toLocaleDateString("en-US",k)+"</span></span><span class='mdl-list__item-secondary-content'><i class='material-icons visible-class' style='display: none;'>visibility</i></span></li>";b(j)}function b(j){console.log("Build html list complete."),postMessage({cmd:"eclipse_html_complete",eclipse_data:j})}function c(){var j=h.eclipseToJSON();console.log("Eclipse thread load complete: "+h.getEclipseCount()+" eclipses loaded."),postMessage({cmd:"eclipse_load_complete",eclipse_data:j}),a()}function d(j){console.log("Eclipse loader error: "+j),postMessage({cmd:"eclipse_load_error",status:j})}importScripts("EclipseCalc.js");var h=new Eclipses;this.init=function(){console.log("Initing eclipse loader thread."),h.loadEclipseElements("data/eclipses/catsmall.txt","data/eclipses/SECOMB.js",c,d)}}}var el=new EclipseLoader;el.init();